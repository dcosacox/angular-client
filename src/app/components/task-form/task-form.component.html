<div class="container d-flex justify-content-center align-items-center min-vh-100">
    <div class="card shadow" style="width: 22rem;">
        <div class="card-body">
            <h2 class="card-title text-center mb-4">Enter the data of the task</h2>

            <form #loginForm="ngForm">
                <div class="mb-3">
                    <label for="title" class="form-label">Title</label>
                    <input type="text" class="form-control" id="title" name="title" placeholder="Enter title"
                        type="text" [(ngModel)]="task.title" required />
                </div>
                <div class="mb-3">
                    <label for="phone" class="form-label">Description</label>
                    <textarea type="text" class="form-control" id="phone" name="phone" placeholder="Enter description"
                        [(ngModel)]="task.description"> </textarea>
                </div>

                <div class="d-flex justify-content-center mb-3" *ngIf="isLoading">
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                </div>
                <div class="mb-3">
                    <mat-form-field appearance="fill" class="w-100 mb-3">
                        <mat-label>Due Date</mat-label>
                        <input matInput [matDatepicker]="picker" [(ngModel)]="task.dueAt" name="dueAt" id="dueAt"
                            required>
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                    </mat-form-field>

                </div>
                <div class="mb-3">
                    <mat-form-field appearance="fill" class="w-100 mb-3">
                        <mat-label>Status</mat-label>
                        <mat-select [(ngModel)]="task.status" name="status" id="status" required>
                            <mat-option *ngFor="let status of statusesArray" [value]="status.title"
                                [ngClass]="'text-light bg-' + status.color">
                                {{ status.title }}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <button type="button" class="btn btn-primary w-100 mb-3" [disabled]="!task.title || !task.dueAt"
                    (click)="createTask()">
                    {{ isEditMode ? 'Update Task' : 'Create Task' }}
                </button>

            </form>
        </div>
    </div>
</div>